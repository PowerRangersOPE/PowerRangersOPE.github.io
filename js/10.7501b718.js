(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[10],{"7e2f":function(a,e,t){"use strict";t.r(e);var o=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"q-ma-md col-7"},[t("q-item-label",{staticClass:"text-h5",staticStyle:{}},[a._v("\n    Endereço\n  ")]),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col"},[t("q-input",{staticClass:"q-mr-lg",attrs:{filled:"",label:"CEP",mask:"#####-###",pattern:"[a-zA-Z0-9]+"},on:{keyup:function(e){return a.searchCep()}},model:{value:a.cadastroEndereco.cep,callback:function(e){a.$set(a.cadastroEndereco,"cep",e)},expression:"cadastroEndereco.cep"}})],1),t("div",{staticClass:"col"},[t("q-input",{attrs:{filled:"",label:"UF"},model:{value:a.cadastroEndereco.uf,callback:function(e){a.$set(a.cadastroEndereco,"uf",e)},expression:"cadastroEndereco.uf"}})],1)]),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col"},[t("q-input",{staticClass:"q-mr-lg",attrs:{filled:"",label:"Cidade"},model:{value:a.cadastroEndereco.cidade,callback:function(e){a.$set(a.cadastroEndereco,"cidade",e)},expression:"cadastroEndereco.cidade"}})],1),t("div",{staticClass:"col"},[t("q-input",{attrs:{filled:"",label:"Bairro"},model:{value:a.cadastroEndereco.bairro,callback:function(e){a.$set(a.cadastroEndereco,"bairro",e)},expression:"cadastroEndereco.bairro"}})],1)]),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col"},[t("q-input",{staticClass:"q-mr-lg",attrs:{filled:"",label:"Rua"},model:{value:a.cadastroEndereco.rua,callback:function(e){a.$set(a.cadastroEndereco,"rua",e)},expression:"cadastroEndereco.rua"}})],1),t("div",{staticClass:"col"},[t("q-input",{attrs:{filled:"",label:"Número"},model:{value:a.cadastroEndereco.numero,callback:function(e){a.$set(a.cadastroEndereco,"numero",e)},expression:"cadastroEndereco.numero"}})],1)]),t("div",{staticClass:"row q-mt-lg"},[t("div",{staticClass:"col"},[t("q-input",{staticClass:"q-mr-lg",attrs:{filled:"",label:"Complemento"},model:{value:a.cadastroEndereco.complemento,callback:function(e){a.$set(a.cadastroEndereco,"complemento",e)},expression:"cadastroEndereco.complemento"}})],1),t("div",{staticClass:"col"},[t("q-input",{attrs:{filled:"",label:"Observações"},model:{value:a.cadastroEndereco.observacoes,callback:function(e){a.$set(a.cadastroEndereco,"observacoes",e)},expression:"cadastroEndereco.observacoes"}})],1)]),t("div",{staticClass:"col q-mt-xl"},[t("q-btn",{attrs:{color:"black",label:"Salvar"},on:{click:function(e){return a.confirmaSalvar()}}})],1),t("q-dialog",{attrs:{persistent:""},model:{value:a.confirm,callback:function(e){a.confirm=e},expression:"confirm"}},[t("q-card",[t("q-card-section",{staticClass:"row items-center"},[t("q-avatar",{attrs:{icon:"announcement",color:"primary","text-color":"white"}}),t("span",{staticClass:"q-ml-sm"},[a._v("Deseja salvar os dados?")])],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Sim",color:"primary"},on:{click:function(e){return a.salvar()}}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Não",color:"primary"}})],1)],1)],1)],1)},s=[],c=t("bc3a"),r=t.n(c);const l={rua:"",numero:"",bairro:"",cidade:"",uf:"",cep:"",complemento:"",observacoes:""};var n={name:"endereco",data(){return{cadastroEndereco:l,baseUrl:"https://power-bag-back.herokuapp.com",token:localStorage.getItem("token"),clienteId:localStorage.getItem("clienteId"),confirm:!1}},mounted(){this.buscarDados()},methods:{confirmaSalvar(){this.confirm=!0},salvar(){let a=localStorage.getItem("token");r()({method:"POST",url:`${this.baseUrl}/endereco`,headers:{Authorization:`${a}`},data:{rua:this.cadastroEndereco.rua,numero:this.cadastroEndereco.numero,bairro:this.cadastroEndereco.bairro,cidade:this.cadastroEndereco.cidade,uf:this.cadastroEndereco.uf,cep:this.cadastroEndereco.cep,complemento:this.cadastroEndereco.complemento,observacoes:this.cadastroEndereco.observacoes}}),setTimeout((()=>{this.$q.dialog({title:"Parabéns!",message:"Dados salvo com sucesso!"}),this.buscarDados()}),500)},async buscarDados(){const a=await r()({method:"GET",url:`${this.baseUrl}/endereco`,headers:{Authorization:`${this.token}`}}),e=Object.assign(this.cadastroEndereco,a.data);this.cadastroEndereco=e},async searchCep(){if(9===this.cadastroEndereco.cep.length)try{const{data:a}=await r.a.get(`https://viacep.com.br/ws/${this.cadastroEndereco.cep}/json/`);this.cadastroEndereco=a,this.cadastroEndereco.uf=a.uf,this.cadastroEndereco.cidade=a.localidade,this.cadastroEndereco.bairro=a.bairro,this.cadastroEndereco.rua=a.logradouro,this.cadastroEndereco.complemento=a.complemento}catch(a){console.log(a)}}}},d=n,i=t("2877"),u=t("0170"),m=t("27f9"),p=t("9c40"),b=t("24e8"),v=t("f09f"),f=t("a370"),E=t("cb32"),h=t("4b7e"),C=t("7f67"),q=t("eebe"),g=t.n(q),k=Object(i["a"])(d,o,s,!1,null,null,null);e["default"]=k.exports;g()(k,"components",{QItemLabel:u["a"],QInput:m["a"],QBtn:p["a"],QDialog:b["a"],QCard:v["a"],QCardSection:f["a"],QAvatar:E["a"],QCardActions:h["a"]}),g()(k,"directives",{ClosePopup:C["a"]})}}]);