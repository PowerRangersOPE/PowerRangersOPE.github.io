(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"497b":function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"q-pa-md"},[e("q-table",{staticClass:"col",attrs:{dense:"",data:a.bag,columns:a.columns,"row-key":"id","rows-per-page-options":[20]},scopedSlots:a._u([{key:"body-cell-editarPedido",fn:function(t){return[e("q-td",{attrs:{props:t}},[e("div",["Cancelado"===t.row.status||"Finalizado"===t.row.status||"Compra total"===t.row.status?e("q-btn",{attrs:{icon:"published_with_changes",color:"negative",size:"sm",dense:"",disable:""}}):e("q-btn",{attrs:{icon:"published_with_changes",color:"info",size:"sm",dense:""},on:{click:function(e){return a.abrirModalAlterarStatus(t.row)}}})],1)])]}},{key:"body-cell-info",fn:function(t){return[e("q-td",{attrs:{props:t}},[e("div",[e("q-btn",{attrs:{icon:"person",color:"info",size:"sm",dense:""},on:{click:function(e){return a.abrirModalInfoCliente(t.row)}}})],1)])]}}])})],1),e("q-dialog",{model:{value:a.modalAlterarStatus,callback:function(t){a.modalAlterarStatus=t},expression:"modalAlterarStatus"}},[e("q-card",{staticStyle:{width:"400px","max-width":"80vw"}},[e("q-card-section",[e("div",{staticClass:"text-h6"},[a._v("Alterar Status ou Valor da Bag")])]),e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"q-gutter-y-md",staticStyle:{"max-width":"300px"}},[e("q-select",{attrs:{color:"purple-12",options:a.options,label:"Escolha status"},model:{value:a.novoStatusBag,callback:function(t){a.novoStatusBag=t},expression:"novoStatusBag"}})],1),e("div",{staticClass:"q-gutter-y-md q-mt-sm",staticStyle:{"max-width":"300px"}},[e("q-input",{attrs:{color:"purple-12",label:"Valor Bag"},model:{value:a.novoValorBag,callback:function(t){a.novoValorBag=t},expression:"novoValorBag"}})],1)]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Salvar",color:"primary"},on:{click:function(t){return a.alterarBag()}}}),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)],1),e("q-dialog",{model:{value:a.modalInfoCliente,callback:function(t){a.modalInfoCliente=t},expression:"modalInfoCliente"}},[e("q-card",{staticStyle:{width:"600px","max-width":"80vw"}},[e("div",{staticClass:"q-pa-md"},[e("q-item-label",{staticClass:"text-h5 text-center"},[a._v("\n          Informações do cliente\n        ")]),e("div",{staticClass:"q-mt-lg"},[e("q-item-label",{staticClass:"text-h6"},[a._v("\n          Dados Pessoais\n        ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"Nome completo"},model:{value:a.cadastroPerfil.nome,callback:function(t){a.$set(a.cadastroPerfil,"nome",t)},expression:"cadastroPerfil.nome"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"E-mail"},model:{value:a.cadastroPerfil.email,callback:function(t){a.$set(a.cadastroPerfil,"email",t)},expression:"cadastroPerfil.email"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"CPF",mask:"###.###.###-##"},model:{value:a.cadastroPerfil.cpf,callback:function(t){a.$set(a.cadastroPerfil,"cpf",t)},expression:"cadastroPerfil.cpf"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"Data de nascimento",mask:"##/##/####"},model:{value:a.cadastroPerfil.dat_nasc,callback:function(t){a.$set(a.cadastroPerfil,"dat_nasc",t)},expression:"cadastroPerfil.dat_nasc"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"Celular principal",mask:"(##) ##### - ####"},model:{value:a.cadastroPerfil.tel_cel1,callback:function(t){a.$set(a.cadastroPerfil,"tel_cel1",t)},expression:"cadastroPerfil.tel_cel1"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"Celular secundário",mask:"(##) ##### - ####"},model:{value:a.cadastroPerfil.tel_cel2,callback:function(t){a.$set(a.cadastroPerfil,"tel_cel2",t)},expression:"cadastroPerfil.tel_cel2"}})],1)])],1)],1),e("div",{staticClass:"q-pa-md"},[e("q-item-label",{staticClass:"text-h6"},[a._v("\n          Endereco\n        ")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"CEP",mask:"#####-###",pattern:"[a-zA-Z0-9]+"},model:{value:a.cadastroEndereco.cep,callback:function(t){a.$set(a.cadastroEndereco,"cep",t)},expression:"cadastroEndereco.cep"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"UF"},model:{value:a.cadastroEndereco.uf,callback:function(t){a.$set(a.cadastroEndereco,"uf",t)},expression:"cadastroEndereco.uf"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"Cidade"},model:{value:a.cadastroEndereco.cidade,callback:function(t){a.$set(a.cadastroEndereco,"cidade",t)},expression:"cadastroEndereco.cidade"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"Bairro"},model:{value:a.cadastroEndereco.bairro,callback:function(t){a.$set(a.cadastroEndereco,"bairro",t)},expression:"cadastroEndereco.bairro"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"Rua"},model:{value:a.cadastroEndereco.rua,callback:function(t){a.$set(a.cadastroEndereco,"rua",t)},expression:"cadastroEndereco.rua"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"Número"},model:{value:a.cadastroEndereco.numero,callback:function(t){a.$set(a.cadastroEndereco,"numero",t)},expression:"cadastroEndereco.numero"}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("q-input",{staticClass:"q-mr-lg",attrs:{readonly:"",label:"Complemento"},model:{value:a.cadastroEndereco.complemento,callback:function(t){a.$set(a.cadastroEndereco,"complemento",t)},expression:"cadastroEndereco.complemento"}})],1),e("div",{staticClass:"col"},[e("q-input",{attrs:{readonly:"",label:"Observações"},model:{value:a.cadastroEndereco.observacoes,callback:function(t){a.$set(a.cadastroEndereco,"observacoes",t)},expression:"cadastroEndereco.observacoes"}})],1)])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Fechar",color:"primary"}})],1)],1)],1)],1)},l=[],o=(e("5319"),e("bc3a")),r=e.n(o);const i={nome:"",email:"",cpf:"",identificacao:"null",tel_cel1:"",tel_cel2:"",dat_nasc:"",status:"ativo",pontuacao:"5"},c={rua:"",numero:"",bairro:"",cidade:"",uf:"",cep:"",complemento:"",observacoes:""};var n={name:"minhasBags",data:()=>({token:localStorage.getItem("token"),baseUrl:"https://power-bag.herokuapp.com",confirm:!1,modalCartao:!1,columns:[{name:"createdAt",label:"Data",field:"createdAt",sortable:!0,type:"date",align:"center",headerClasses:"bg-primary text-white text-uppercase",format:a=>`${a.replace(/(\d*)-(\d*)-(\d*).*/,"$3-$2-$1")}`},{name:"status",label:"Status",field:"status",align:"center",headerClasses:"bg-primary text-white text-uppercase text-bold"},{name:"valor",label:"Valor",field:"valor",align:"center",headerClasses:"bg-primary text-white text-uppercase text-bold"},{name:"info",label:"Info cliente",align:"center",headerClasses:"bg-primary text-white text-uppercase text-bold "},{name:"editarPedido",label:"Editar pedido",align:"center",headerClasses:"bg-primary text-white text-uppercase text-bold "}],bag:[],cadastroPerfil:i,cadastroEndereco:c,model:null,options:["Em separação","Enviado","Recebido","Verificando peças","Finalizado","Compra total","Cancelado"],selected:[],modalAlterarStatus:!1,modalInfoCliente:!1,idBagAtual:null,novoStatusBag:null,novoValorBag:null,clienteId:null}),mounted(){this.buscarBags()},methods:{confirmarPedido(){this.confirm=!0},async buscarBags(){const a=await r()({method:"GET",url:`${this.baseUrl}/bag/all`,headers:{Authorization:`${this.token}`}});this.bag=Object.assign(a.data)},abrirModalAlterarStatus(a){this.modalAlterarStatus=!0,this.idBagAtual=a.id,this.novoStatusBag=a.status,this.novoValorBag=a.valor},async abrirModalInfoCliente(a){this.modalInfoCliente=!0,this.clienteId=a.cliente_id;const t=await r()({method:"GET",url:`${this.baseUrl}/cliente/${this.clienteId}`,headers:{Authorization:`${this.token}`}});this.cadastroPerfil=Object.assign(t.data),this.cadastroEndereco=Object.assign(t.data.endereco),console.log(t.data.endereco)},alterarBag(){r()({method:"PUT",url:`${this.baseUrl}/bag`,headers:{Authorization:`${this.token}`},data:{valor:this.novoValorBag,status:this.novoStatusBag,id_bag:this.idBagAtual}}),setTimeout((()=>{this.$q.dialog({title:"Atenção!",message:"O status da bag foi alterado com sucesso!"}),this.idBagAtual="",this.novoStatusBag="",this.novoValorBag="",this.buscarBags()}),500)}}},d=n,u=e("2877"),p=e("eaac"),m=e("db86"),b=e("9c40"),v=e("24e8"),f=e("f09f"),g=e("a370"),h=e("ddd8"),C=e("27f9"),q=e("4b7e"),x=e("0170"),w=e("7f67"),k=e("eebe"),y=e.n(k),E=Object(u["a"])(d,s,l,!1,null,null,null);t["default"]=E.exports;y()(E,"components",{QTable:p["a"],QTd:m["a"],QBtn:b["a"],QDialog:v["a"],QCard:f["a"],QCardSection:g["a"],QSelect:h["a"],QInput:C["a"],QCardActions:q["a"],QItemLabel:x["a"]}),y()(E,"directives",{ClosePopup:w["a"]})}}]);